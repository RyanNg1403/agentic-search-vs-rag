
Main CLI entry point is packages/cli/src/gemini.tsx which uses React and Ink for terminal UI rendering. The main() function orchestrates startup: loads settings, parses arguments, handles sandboxing, initializes config, and launches either interactive UI (startInteractiveUI with AppContainer) or non-interactive mode (runNonInteractive). You must use ConsolePatcher to redirect console.log to coreEvents. The app uses alternate buffer mode for full-screen terminal UI controlled by shouldEnterAlternateScreen(). Context providers wrap AppContainer: SettingsContext, KeypressProvider, MouseProvider, ScrollProvider, SessionStatsProvider, VimModeProvider. Startup profiling via startupProfiler tracks performance.
